# Daily24 - 프론트엔드 클론 저장소
본 저장소는 무인매장 운영 시스템인 **Daily24** 프로젝트의 개인 포크 프론트엔드 레포지토리입니다.

> **개발 기간:** 2025.02.28 ~ 2025.04.22 <br>
> **기술 스택:** React · Tailwind CSS · Nivo · AWS S3

---

## 프로젝트 소개
**Daily24** 는 처음 무인 매장을 운영하는 점주니들을 위한 스마트 매장 관리 시스템입니다. <br>
**매출, 재고, 폐기, 발주** 관리부터 **장바구니 분석**, **실시간 알림**, **AI 챗봇** 등  
점주님의 운영 효율을 높이기 위한 다양한 기능들을 통합 제공하는 웹 기반 플랫폼입니다.

---

## 🙋‍♀️ 주요 기여

본인은 다음과 같은 핵심 프론트엔드 기능들을 구현했습니다!

### 장바구니 분석 페이지
고객들이 자주 함께 구매하는 상품 조합을 분석해 점주에게 진열 전략 및 마케팅에 활용할 수 있도록 도와주는
연관 분석 시스템을 구현했습니다.

![발주 화면](https://github.com/user-attachments/assets/c06de561-d597-4509-aa0e-8da083e6960a)

### ✅ 주요 구현 기능
- Apriori 기반 연관규칙 분석을 통해 support, confidence, lift 필터로 유의미한 조합만 시각화
- Nivo Heatmap을 사용해 상품 A/B 조합을 직관적으로 보여주는 히트맵 구성
- Top3 추천 조합 클릭시, 해당 조합의 최근 7일간 판매 추이를 Nivo LineChart로 함께 제공
- 시간대별 추천 기능: 현재 시간대(아침,점심 등)에 가장 자주 팔리는 상품 조합을 실시간 제공
- Context API를 사용해 시간대 데이터를 전역 관리, 실시간 UX 강화


### 💡 Nivo 히트맵 시각화 포맷 오류 해결
**문제 상황** <br>
Nivo 히트맵을 활용해 상품 간 연관 규칙을 시각화하는 과정에서, 
에러는 발생하지 않았지만 차트가 렌더링되지 않는 이슈가 발생했습니다.


**해결 방법** <br>
공식 문서를 참고해 Nivo가 요구하는 데이터 포맷에 맞게 변환했습니다.👍 <br>
itemset_a와 itemset_b를 각각 세로축(a), 가로축(b)으로 매핑하고,
신뢰도(confidence) 값을 y에 대응시켜 아래처럼 가공했습니다.

```javascript
// Nivo에 맞는 데이터 구조 변환
  const transformedData = itemA.map((a) => ({
    id: a, // 세로축 라벨
    data: itemB.map((b) => {
      const match = data.find(
        (rule) => rule.itemset_a === a && rule.itemset_b === b
      );
      return { x: b, y: match ? match.confidence : null }; // 없으면 0
    }),
  }));

```

이 방식으로 변환하면, 아래처럼 Nivo가 이해할 수 있는 "객체 배열"로 구성됩니다.

```json
[
  { "id": "콜라", "data": [{ "x": "사이다", "y": 0.75 }, { "x": "과자", "y": 0.58 }] },
  { "id": "사이다", "data": [{ "x": "콜라", "y": 0.68 }, { "x": "맥주", "y": 0.9 }] }
]

```

**👩‍💻 배운점** <br>
백엔드에서 전달된 데이터를 프론트 요구에 맞게 가공하는 과정이 생각보다 중요하고, <br>
외부 라이브러리를 사용할 때, 공식 문서를 한번이라도 꼭 읽어야 한다것을 깨달았습니다.🧐

---

### 발주 관리 페이지
점주의 상품 발주 및 발주 내역을 확인할 수 있는 페이지입니다.

![발주 화면](https://github.com/user-attachments/assets/92ef95fe-dab8-4288-a6ad-d68c95f2f3cd)

### ✅ **주요 구현 기능**
- 상품을 발주하고, 날짜/상태별로 발주 리스트 확인 가능
- 최근 7일간 요일별 발주 내역을 기반으로 루틴성 발주 지원 
- 최근 판매 데이터를 바탕으로 발주 수량 추천
- 발주 내역을 엑셀로 다운로드하여 체크리스트로 활용 가능


### 💡 재고 소진 예측 기반 발주 추천 기능 구현
**문제 상황** <br>
점주가 어떤 상품을 얼마나 발주해야 할지 매번 판단이 어려워,
과잉 발주나 품절이 반복되는 문제가 있었습니다.

**해결 방법** <br>
- 최근 7일간의 판매 데이터를 기반으로 하루 평균 판매량을 계산
- 전체 재고 수량과 비교해 재고 소진까지 남은 일수(daysLeft)를 예측
- 부족한 수량만큼 발주를 추천하는 로직을 구현
- 로직은 useOrderRecommendation 커스텀 훅으로 분리해 재사용성과 유지보수성 강화


```javascript
      // 평균 판매량 계산
      const total = salesData.reduce((sum, item) => sum + item.amount, 0);
      const avgSales = total / 7;


      // 총 재고량을 기준으로 소진 일수 예측
      const daysLeft = avgSales > 0 ? Math.floor(stock / avgSales) : "N/A";

      // 추천 발주량 (1일치 평균 판매량 - 현재 재고)
      const recommendedOrder = Math.ceil(Math.max(0, avgSales * 1 - stock));

```

**👩‍💻 배운점** <br>
단순히 데이터를 보여주는 것보다, 
**"이 데이터를 바탕으로 어떤 액션을 유도할 수 있을까?"** <br> 를 고민하는 것이
프론트엔드 UX 사고에서 얼마나 중요한지 체감할 수 있었습니다. <br>
또한 복잡한 로직을 커스텀 훅으로 분리하니 리팩토링도 쉬워지고 재사용하기 편했습니다. (오류 고칠때 짱편함👍)

---

### 폐기 통계 페이지
점주의 월별 폐기 현황을 도넛 차트와 분석 리포트로 시각화한 페이지입니다.
<img width="1201" alt="스크린샷 2025-05-01 오후 4 15 49" src="https://github.com/user-attachments/assets/59124c17-e72d-4a61-a90e-e9ff210e74d0" />

### ✅ **주요 구현 기능**
- 월별 폐기 품목 분포를 Nivo의 도넛 차트로 시각화
- 품목별 입고 대비 폐기율 표시 및 지난달과 비교한 증감률 제공
- 2개월 연속 폐기율 상위인 품목은 '📍 집중 관리 필요'로 강조
- 월, 연도 이동을 통한 이전 데이터 분석 가능
  

### 💡 집중 관리 품목 분석 기능
점주는 어떤 품목이 반복적으로 폐기되고 있는지 바로 파악하기 어렵고, 개선이 필요한 품목을 찾는데 어려움이 있었습니다.


**해결 방법** <br>
- 이번 달과 지난 달의 폐기율 상위 Top3 품목을 비교
- 두 달 연속 상위권에 있는 품목을 focusItems으로 분류
- 시각적으로 강조하고, 개선 제안을 아래에 제공

```javascript
const focusTargets = currentTop3.filter((current) =>
        prevTop3.some((prev) => prev.subName === current.subName)
      );
      setFocusItems(focusTargets);

```

---

### 실시간 알림 
운영 중 발생하는 다양한 이벤트를 점주가 즉시 인지할 수 있도록 구현한 알림 시스템입니다. <br>
<img width="385" alt="no" src="https://github.com/user-attachments/assets/c6af9fe3-b4ae-4b57-bcc5-64d1f851331e" />

### ✅ **주요 구현 기능**
- SSE(Server-Sent Events)를 통한 브라우저 실시간 알림 수신
- 알림 유형에 따라 결제', '재고', '폐기' 탭으로 분류
- 안읽은 알림 수량 뱃지 및 읽음 처리 기능
- 알림 클릭 시 해당 기능 페이지로 이동 (/salesHistory, /inventory, /disposal 등)

### 💡 안정성과 UX 두마리 토끼를 잡은 알림 설계
**문제 상황** <br>
단방향 SSE 특성상 새로고침 시 알림이 사라지거나, 일시적 연결 끊김이 발생할 수 있었고 <br>
점주가 여러 이벤트를 한눈에 파악하기 어렵다는 UX 문제가 있었습니다. 😭

**해결 방법**
- 알림 수신 시 로컬스토리지에 저장해 유지하고, 연결 끊김시 재귀적으로 연결 요청
- 중복 알림은 결제만 허용하고, 재고/폐기 알림은 메시지+유형 기준으로 중복 제거
- 탭별 필터링, 읽음 표시, 시간 포맷 등 UX 향상을 위한 기능 추가


```javascript
const isDuplicate = prevAlerts.some(
  (alert) => alert.message === data.message && alert.type === data.type
);

if (!isDuplicate || data.type === "결제") {
  // 신규 알림으로 추가
}

```

**👩‍💻 배운점** <br>
단순히 알림을 띄우는 데 그치지 않고,
- 유의미한 알림 분류
- 다음 행동으로 이어갈 수 있는 구조,
- 알림 복구를 위한 재연결과 상태 저장
등 작은 디테일까지 직접 고려해본 경험이었습니다. <br>
다만 아직은 브라우저 기반 SSE의 한계로 알림의 신뢰성이 부족하기에,
오프라인 상태에서도 수신이 가능한 FCM 도입도 추후 고려하고 있습니다. 🧐

## 기타
- 전체 프로젝트 구조 및 기술스택은 [팀 레포지토리 바로가기](https://github.com/KDT7team1/frontend)에서 확인하실수 있습니다.

---

## 프로젝트 회고
이번 프로젝트는 조장님이랑 둘이서 완주한 소중한 경험 👍
중간에 팀 분해라는 난관도 있었지만, 서로를 더 믿고 의지하면서 완성한 결과물로 더 애착이 가는 프로젝트다.

특히 이 프로젝트를 통해 프론트엔드에 대한 흥미와 가능성을 느낄 수 있었고,
매일 지피티랑 "너가 점주라 생각하고 말해줘"라 대화했던게 기억이 난다. 😂

리드미 작성해보니 기능 하나하나에 쏟은 정성과 설계가 그대로 UI에서 보여지는 것 같고,
다시 봐도 버릴 기능이 없는 거 같아서 만족스러운 결과물
